{"namespace":"db","definitions":{"db.tenant":{"kind":"aspect","type":"cds.Integer"},"db.Territories":{"kind":"entity","doc":"Aspect for entities with canonical universal IDs\n\nSee https://cap.cloud.sap/docs/cds/common#aspect-cuid","elements":{"ID":{"key":true,"type":"cds.String","length":36,"@cds.persistence.name":"ID"},"tenantDiscriminator":{"type":"cds.String","length":36,"@cds.persistence.name":"TENANTDISCRIMINATOR"},"toAllowedUsers":{"type":"cds.Association","cardinality":{"max":"*"},"target":"db.UserTenantMappings","on":[{"ref":["toAllowedUsers","tenant_ID"]},"=",{"ref":["tenantDiscriminator"]},"and",{"xpr":[{"ref":["toAllowedUsers","mappingType"]},"=",{"val":"user"},"or",{"ref":["toAllowedUsers","mappingType"]},"=",{"val":"admin"}]}],"@cds.persistence.name":"TOALLOWEDUSERS"},"toAllowedAdmins":{"type":"cds.Association","cardinality":{"max":"*"},"target":"db.UserTenantMappings","on":[{"ref":["toAllowedAdmins","tenant_ID"]},"=",{"ref":["tenantDiscriminator"]},"and",{"ref":["toAllowedAdmins","mappingType"]},"=",{"val":"admin"}],"@cds.persistence.name":"TOALLOWEDADMINS"},"toTenant":{"type":"cds.Association","cardinality":{"max":1},"target":"db.Tenants","on":[{"ref":["toTenant","ID"]},"=",{"ref":["$self","tenantDiscriminator"]}],"@cds.persistence.name":"TOTENANT"},"name":{"type":"cds.String","length":64,"@cds.persistence.name":"NAME"},"link":{"type":"cds.String","length":2048,"@cds.persistence.name":"LINK"},"isReady":{"type":"cds.Boolean","default":{"val":false},"@cds.persistence.name":"ISREADY"},"embedUrl":{"type":"cds.String","length":2048,"@cds.persistence.name":"EMBEDURL"},"toParts":{"type":"cds.Composition","cardinality":{"max":"*"},"target":"db.Parts","on":[{"ref":["toParts","toParent_ID"]},"=",{"ref":["ID"]}],"@cds.persistence.name":"TOPARTS"},"lastTimeWorked":{"type":"cds.Date","@cds.persistence.name":"LASTTIMEWORKED"},"createdAt":{"type":"cds.Timestamp","@cds.persistence.name":"CREATEDAT"},"updatedAt":{"type":"cds.Timestamp","@cds.persistence.name":"UPDATEDAT"}},"@cds.persistence.name":"DB_TERRITORIES"},"db.Parts":{"kind":"entity","doc":"Aspect for entities with canonical universal IDs\n\nSee https://cap.cloud.sap/docs/cds/common#aspect-cuid","elements":{"ID":{"key":true,"type":"cds.String","length":36,"@cds.persistence.name":"ID"},"tenantDiscriminator":{"type":"cds.String","length":36,"@cds.persistence.name":"TENANTDISCRIMINATOR"},"toAllowedUsers":{"type":"cds.Association","cardinality":{"max":"*"},"target":"db.UserTenantMappings","on":[{"ref":["toAllowedUsers","tenant_ID"]},"=",{"ref":["tenantDiscriminator"]},"and",{"xpr":[{"ref":["toAllowedUsers","mappingType"]},"=",{"val":"user"},"or",{"ref":["toAllowedUsers","mappingType"]},"=",{"val":"admin"}]}],"@cds.persistence.name":"TOALLOWEDUSERS"},"toAllowedAdmins":{"type":"cds.Association","cardinality":{"max":"*"},"target":"db.UserTenantMappings","on":[{"ref":["toAllowedAdmins","tenant_ID"]},"=",{"ref":["tenantDiscriminator"]},"and",{"ref":["toAllowedAdmins","mappingType"]},"=",{"val":"admin"}],"@cds.persistence.name":"TOALLOWEDADMINS"},"toTenant":{"type":"cds.Association","cardinality":{"max":1},"target":"db.Tenants","on":[{"ref":["toTenant","ID"]},"=",{"ref":["$self","tenantDiscriminator"]}],"@cds.persistence.name":"TOTENANT"},"name":{"type":"cds.String","length":64,"@cds.persistence.name":"NAME"},"isBoundaries":{"type":"cds.Boolean","default":{"val":false},"@cds.persistence.name":"ISBOUNDARIES"},"coordinates":{"type":"cds.String","length":1024,"@cds.persistence.name":"COORDINATES"},"toParent":{"type":"cds.Association","cardinality":{"max":1},"target":"db.Territories","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"toParent_ID"}],"on":[{"ref":["toParent","ID"]},"=",{"ref":["toParent_ID"]}],"@cds.persistence.name":"TOPARENT"},"toParent_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"toParent","@cds.persistence.name":"TOPARENT_ID"}},"@cds.persistence.name":"DB_PARTS"},"db.TerritoryAssignments":{"kind":"entity","doc":"Aspect for entities with canonical universal IDs\n\nSee https://cap.cloud.sap/docs/cds/common#aspect-cuid","elements":{"ID":{"key":true,"type":"cds.String","length":36,"@cds.persistence.name":"ID"},"tenantDiscriminator":{"type":"cds.String","length":36,"@cds.persistence.name":"TENANTDISCRIMINATOR"},"toAllowedUsers":{"type":"cds.Association","cardinality":{"max":"*"},"target":"db.UserTenantMappings","on":[{"ref":["toAllowedUsers","tenant_ID"]},"=",{"ref":["tenantDiscriminator"]},"and",{"xpr":[{"ref":["toAllowedUsers","mappingType"]},"=",{"val":"user"},"or",{"ref":["toAllowedUsers","mappingType"]},"=",{"val":"admin"}]}],"@cds.persistence.name":"TOALLOWEDUSERS"},"toAllowedAdmins":{"type":"cds.Association","cardinality":{"max":"*"},"target":"db.UserTenantMappings","on":[{"ref":["toAllowedAdmins","tenant_ID"]},"=",{"ref":["tenantDiscriminator"]},"and",{"ref":["toAllowedAdmins","mappingType"]},"=",{"val":"admin"}],"@cds.persistence.name":"TOALLOWEDADMINS"},"toTenant":{"type":"cds.Association","cardinality":{"max":1},"target":"db.Tenants","on":[{"ref":["toTenant","ID"]},"=",{"ref":["$self","tenantDiscriminator"]}],"@cds.persistence.name":"TOTENANT"},"toTerritory":{"type":"cds.Association","cardinality":{"max":1},"target":"db.Territories","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"toTerritory_ID"}],"on":[{"ref":["toTerritory","ID"]},"=",{"ref":["toTerritory_ID"]}],"@cds.persistence.name":"TOTERRITORY"},"toTerritory_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"toTerritory","@cds.persistence.name":"TOTERRITORY_ID"},"isDone":{"type":"cds.Boolean","@cds.persistence.name":"ISDONE"},"toPartAssignments":{"type":"cds.Composition","cardinality":{"max":"*"},"target":"db.PartAssignments","on":[{"ref":["toPartAssignments","toParent_ID"]},"=",{"ref":["ID"]}],"@cds.persistence.name":"TOPARTASSIGNMENTS"},"startedDate":{"type":"cds.Timestamp","@cds.persistence.name":"STARTEDDATE"},"finishedDate":{"type":"cds.Timestamp","@cds.persistence.name":"FINISHEDDATE"},"type":{"type":"cds.String","length":32,"@cds.persistence.name":"TYPE"},"assignedTo":{"type":"cds.Association","cardinality":{"max":1},"target":"db.Users","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"assignedTo_ID"}],"on":[{"ref":["assignedTo","ID"]},"=",{"ref":["assignedTo_ID"]}],"@cds.persistence.name":"ASSIGNEDTO"},"assignedTo_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"assignedTo","@cds.persistence.name":"ASSIGNEDTO_ID"}},"@cds.persistence.name":"DB_TERRITORYASSIGNMENTS"},"db.PartAssignments":{"kind":"entity","doc":"Aspect for entities with canonical universal IDs\n\nSee https://cap.cloud.sap/docs/cds/common#aspect-cuid","elements":{"ID":{"key":true,"type":"cds.String","length":36,"@cds.persistence.name":"ID"},"tenantDiscriminator":{"type":"cds.String","length":36,"@cds.persistence.name":"TENANTDISCRIMINATOR"},"toAllowedUsers":{"type":"cds.Association","cardinality":{"max":"*"},"target":"db.UserTenantMappings","on":[{"ref":["toAllowedUsers","tenant_ID"]},"=",{"ref":["tenantDiscriminator"]},"and",{"xpr":[{"ref":["toAllowedUsers","mappingType"]},"=",{"val":"user"},"or",{"ref":["toAllowedUsers","mappingType"]},"=",{"val":"admin"}]}],"@cds.persistence.name":"TOALLOWEDUSERS"},"toAllowedAdmins":{"type":"cds.Association","cardinality":{"max":"*"},"target":"db.UserTenantMappings","on":[{"ref":["toAllowedAdmins","tenant_ID"]},"=",{"ref":["tenantDiscriminator"]},"and",{"ref":["toAllowedAdmins","mappingType"]},"=",{"val":"admin"}],"@cds.persistence.name":"TOALLOWEDADMINS"},"toTenant":{"type":"cds.Association","cardinality":{"max":1},"target":"db.Tenants","on":[{"ref":["toTenant","ID"]},"=",{"ref":["$self","tenantDiscriminator"]}],"@cds.persistence.name":"TOTENANT"},"part":{"type":"cds.Association","cardinality":{"max":1},"target":"db.Parts","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"part_ID"}],"on":[{"ref":["part","ID"]},"=",{"ref":["part_ID"]}],"@cds.persistence.name":"PART"},"part_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"part","@cds.persistence.name":"PART_ID"},"inWorkBy":{"type":"cds.Composition","cardinality":{"max":"*"},"target":"db.InWorkBy","on":[{"ref":["inWorkBy","toParent_ID"]},"=",{"ref":["ID"]}],"@cds.persistence.name":"INWORKBY"},"isDone":{"type":"cds.Boolean","@cds.persistence.name":"ISDONE"},"toParent":{"type":"cds.Association","target":"db.TerritoryAssignments","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"toParent_ID"}],"on":[{"ref":["toParent","ID"]},"=",{"ref":["toParent_ID"]}],"@cds.persistence.name":"TOPARENT"},"toParent_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"toParent","@cds.persistence.name":"TOPARENT_ID"}},"@cds.persistence.name":"DB_PARTASSIGNMENTS"},"db.InWorkBy":{"kind":"entity","doc":"Aspect for entities with canonical universal IDs\n\nSee https://cap.cloud.sap/docs/cds/common#aspect-cuid","elements":{"ID":{"key":true,"type":"cds.String","length":36,"@cds.persistence.name":"ID"},"user":{"type":"cds.Association","cardinality":{"max":1},"target":"db.Users","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"user_ID"}],"on":[{"ref":["user","ID"]},"=",{"ref":["user_ID"]}],"@cds.persistence.name":"USER"},"user_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"user","@cds.persistence.name":"USER_ID"},"test":{"type":"cds.String","length":32,"@cds.persistence.name":"TEST"},"toParent":{"type":"cds.Association","cardinality":{"max":1},"target":"db.PartAssignments","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"toParent_ID"}],"on":[{"ref":["toParent","ID"]},"=",{"ref":["toParent_ID"]}],"@cds.persistence.name":"TOPARENT"},"toParent_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"toParent","@cds.persistence.name":"TOPARENT_ID"}},"@cds.persistence.name":"DB_INWORKBY"},"db.Users":{"kind":"entity","doc":"Aspect for entities with canonical universal IDs\n\nSee https://cap.cloud.sap/docs/cds/common#aspect-cuid","elements":{"ID":{"key":true,"type":"cds.String","length":36,"@cds.persistence.name":"ID"},"email":{"type":"cds.String","length":64,"@cds.persistence.name":"EMAIL"},"name":{"type":"cds.String","length":128,"@cds.persistence.name":"NAME"},"surname":{"type":"cds.String","length":128,"@cds.persistence.name":"SURNAME"},"currentTenant":{"type":"cds.Association","cardinality":{"max":1},"target":"db.Tenants","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"currentTenant_ID"}],"on":[{"ref":["currentTenant","ID"]},"=",{"ref":["currentTenant_ID"]}],"@cds.persistence.name":"CURRENTTENANT"},"currentTenant_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"currentTenant","@cds.persistence.name":"CURRENTTENANT_ID"},"password":{"type":"cds.String","length":128,"@cds.persistence.name":"PASSWORD"},"toAllowedTenants":{"type":"cds.Association","cardinality":{"max":"*"},"target":"db.UserTenantMappings","on":[{"ref":["toAllowedTenants","user_ID"]},"=",{"ref":["ID"]}],"@cds.persistence.name":"TOALLOWEDTENANTS"},"refreshToken":{"type":"cds.String","length":2048,"@cds.persistence.name":"REFRESHTOKEN"}},"@cds.persistence.name":"DB_USERS"},"db.UserTenantMappings":{"kind":"entity","elements":{"user":{"type":"cds.Association","cardinality":{"max":1},"target":"db.Users","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"user_ID"}],"on":[{"ref":["user","ID"]},"=",{"ref":["user_ID"]}],"@cds.persistence.name":"USER"},"user_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"user","key":true,"@cds.persistence.name":"USER_ID"},"tenant":{"type":"cds.Association","cardinality":{"max":1},"target":"db.Tenants","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"tenant_ID"}],"on":[{"ref":["tenant","ID"]},"=",{"ref":["tenant_ID"]}],"@cds.persistence.name":"TENANT"},"tenant_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"tenant","key":true,"@cds.persistence.name":"TENANT_ID"},"mappingType":{"type":"cds.String","length":32,"@cds.persistence.name":"MAPPINGTYPE"}},"@cds.persistence.name":"DB_USERTENANTMAPPINGS"},"db.Tenants":{"kind":"entity","doc":"Aspect for entities with canonical universal IDs\n\nSee https://cap.cloud.sap/docs/cds/common#aspect-cuid","elements":{"ID":{"key":true,"type":"cds.String","length":36,"@cds.persistence.name":"ID"},"createdAt":{"type":"cds.Timestamp","@cds.persistence.name":"CREATEDAT"},"createdBy":{"type":"cds.Association","cardinality":{"max":1},"target":"db.Users","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"createdBy_ID"}],"on":[{"ref":["createdBy","ID"]},"=",{"ref":["createdBy_ID"]}],"@cds.persistence.name":"CREATEDBY"},"createdBy_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"createdBy","@cds.persistence.name":"CREATEDBY_ID"},"name":{"type":"cds.String","length":128,"@cds.persistence.name":"NAME"},"description":{"type":"cds.String","length":1024,"@cds.persistence.name":"DESCRIPTION"},"toUsers":{"type":"cds.Association","cardinality":{"max":"*"},"target":"db.UserTenantMappings","on":[{"ref":["toUsers","tenant_ID"]},"=",{"ref":["ID"]}],"@cds.persistence.name":"TOUSERS"},"myRole":{"@Core.Computed":true,"virtual":true,"type":"cds.String","length":32},"defaultUserTenant":{"type":"cds.Boolean","default":{"val":true},"@cds.persistence.name":"DEFAULTUSERTENANT"}},"@cds.persistence.name":"DB_TENANTS"},"db.TestEntity":{"kind":"entity","doc":"Aspect for entities with canonical universal IDs\n\nSee https://cap.cloud.sap/docs/cds/common#aspect-cuid","elements":{"ID":{"key":true,"type":"cds.String","length":36,"@cds.persistence.name":"ID"},"testString":{"type":"cds.String","length":64,"@cds.persistence.name":"TESTSTRING"},"testInt":{"type":"cds.Integer","@cds.persistence.name":"TESTINT"},"subent":{"type":"cds.Composition","cardinality":{"max":"*"},"target":"db.TestSubEntity","on":[{"ref":["subent","to_Entity_ID"]},"=",{"ref":["ID"]}],"@cds.persistence.name":"SUBENT"}},"@cds.persistence.name":"DB_TESTENTITY"},"db.TestSubEntity":{"kind":"entity","doc":"Aspect for entities with canonical universal IDs\n\nSee https://cap.cloud.sap/docs/cds/common#aspect-cuid","elements":{"ID":{"key":true,"type":"cds.String","length":36,"@cds.persistence.name":"ID"},"testSubString":{"type":"cds.String","length":64,"@cds.persistence.name":"TESTSUBSTRING"},"testSubInt":{"type":"cds.Integer","@cds.persistence.name":"TESTSUBINT"},"user":{"type":"cds.Association","cardinality":{"max":1},"target":"db.Users","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"user_ID"}],"on":[{"ref":["user","ID"]},"=",{"ref":["user_ID"]}],"@cds.persistence.name":"USER"},"user_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"user","@cds.persistence.name":"USER_ID"},"tenant":{"type":"cds.Association","cardinality":{"max":1},"target":"db.Tenants","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"tenant_ID"}],"on":[{"ref":["tenant","ID"]},"=",{"ref":["tenant_ID"]}],"@cds.persistence.name":"TENANT"},"tenant_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"tenant","@cds.persistence.name":"TENANT_ID"},"to_Entity":{"type":"cds.Association","cardinality":{"max":1},"target":"db.TestEntity","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"to_Entity_ID"}],"on":[{"ref":["to_Entity","ID"]},"=",{"ref":["to_Entity_ID"]}],"@cds.persistence.name":"TO_ENTITY"},"to_Entity_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"to_Entity","@cds.persistence.name":"TO_ENTITY_ID"}},"@cds.persistence.name":"DB_TESTSUBENTITY"},"srv.searching":{"kind":"service"},"srv.searching.Territories":{"kind":"entity","doc":"Aspect for entities with canonical universal IDs\n\nSee https://cap.cloud.sap/docs/cds/common#aspect-cuid","query":{"SELECT":{"from":{"join":"left","args":[{"join":"left","args":[{"join":"left","args":[{"ref":["db.Territories"],"as":"dbTerritory_0"},{"ref":["db.Tenants"],"as":"toTenant_1"}],"on":[{"ref":["toTenant_1","ID"]},"=",{"ref":["dbTerritory_0","tenantDiscriminator"]}]},{"ref":["srv.searching.TerritoryAssignments"],"as":"toTerritoryAssignment_2"}],"on":[{"xpr":[[{"ref":["toTerritoryAssignment_2","toTerritory_ID"]},"=",{"ref":["dbTerritory_0","ID"]}]]}]},{"ref":["db.Users"],"as":"assignedTo_3"}],"on":[{"ref":["toTerritoryAssignment_2","assignedTo_ID"]},"=",{"ref":["assignedTo_3","ID"]}]},"mixin":{"___toAllowedUsers":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.searching.TenantMappings","on":[{"ref":["___toAllowedUsers","tenant_ID"]},"=",{"ref":["$projection","tenantDiscriminator"]},"and",{"xpr":[{"ref":["___toAllowedUsers","mappingType"]},"=",{"val":"user"},"or",{"ref":["___toAllowedUsers","mappingType"]},"=",{"val":"admin"}]}]},"___toAllowedAdmins":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.searching.TenantMappings","on":[{"ref":["___toAllowedAdmins","tenant_ID"]},"=",{"ref":["$projection","tenantDiscriminator"]},"and",{"ref":["___toAllowedAdmins","mappingType"]},"=",{"val":"admin"}]},"___toTenant":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.searching.Tenants","on":[{"ref":["___toTenant","ID"]},"=",{"ref":["$self","tenantDiscriminator"]}]},"___toParts":{"type":"cds.Composition","cardinality":{"max":"*"},"target":"srv.searching.Parts","on":[{"ref":["___toParts","toParent_ID"]},"=",{"ref":["$projection","ID"]}]},"___toAssigedUsersToThisAccount":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.searching.TenantMappings","on":[{"ref":["___toAssigedUsersToThisAccount","siteId"]},"=",{"ref":["$self","siteId"]}]}},"columns":[{"ref":["dbTerritory_0","ID"]},{"ref":["dbTerritory_0","tenantDiscriminator"]},{"ref":["___toAllowedUsers"],"as":"toAllowedUsers"},{"ref":["___toAllowedAdmins"],"as":"toAllowedAdmins"},{"ref":["___toTenant"],"as":"toTenant"},{"ref":["dbTerritory_0","name"]},{"ref":["dbTerritory_0","link"]},{"ref":["dbTerritory_0","isReady"]},{"ref":["dbTerritory_0","embedUrl"]},{"ref":["___toParts"],"as":"toParts"},{"ref":["dbTerritory_0","lastTimeWorked"]},{"ref":["dbTerritory_0","createdAt"]},{"ref":["dbTerritory_0","updatedAt"]},{"ref":["assignedTo_3","name"],"as":"assignedToName"},{"ref":["assignedTo_3","surname"],"as":"assignedToSurname"},{"ref":["toTenant_1","name"],"as":"siteName"},{"ref":["toTenant_1","description"],"as":"siteDescription"},{"ref":["toTenant_1","ID"],"as":"siteId"},{"ref":["___toAssigedUsersToThisAccount"],"as":"toAssigedUsersToThisAccount"}]}},"elements":{"ID":{"key":true,"type":"cds.String","length":36,"@cds.persistence.name":"ID"},"tenantDiscriminator":{"type":"cds.String","length":36,"@cds.persistence.name":"TENANTDISCRIMINATOR"},"toAllowedUsers":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.searching.TenantMappings","on":[{"ref":["toAllowedUsers","tenant_ID"]},"=",{"ref":["tenantDiscriminator"]},"and",{"xpr":[[[{"ref":["toAllowedUsers","mappingType"]},"=",{"val":"user"}],"or",[{"ref":["toAllowedUsers","mappingType"]},"=",{"val":"admin"}]]]}],"@cds.persistence.name":"TOALLOWEDUSERS"},"toAllowedAdmins":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.searching.TenantMappings","on":[{"ref":["toAllowedAdmins","tenant_ID"]},"=",{"ref":["tenantDiscriminator"]},"and",{"ref":["toAllowedAdmins","mappingType"]},"=",{"val":"admin"}],"@cds.persistence.name":"TOALLOWEDADMINS"},"toTenant":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.searching.Tenants","on":[{"ref":["toTenant","ID"]},"=",{"ref":["$self","tenantDiscriminator"]}],"@cds.persistence.name":"TOTENANT"},"name":{"type":"cds.String","length":64,"@cds.persistence.name":"NAME"},"link":{"type":"cds.String","length":2048,"@cds.persistence.name":"LINK"},"isReady":{"type":"cds.Boolean","default":{"val":false},"@cds.persistence.name":"ISREADY"},"embedUrl":{"type":"cds.String","length":2048,"@cds.persistence.name":"EMBEDURL"},"toParts":{"type":"cds.Composition","cardinality":{"max":"*"},"target":"srv.searching.Parts","on":[{"ref":["toParts","toParent_ID"]},"=",{"ref":["ID"]}],"@cds.persistence.name":"TOPARTS"},"lastTimeWorked":{"type":"cds.Date","@cds.persistence.name":"LASTTIMEWORKED"},"createdAt":{"type":"cds.Timestamp","@cds.persistence.name":"CREATEDAT"},"updatedAt":{"type":"cds.Timestamp","@cds.persistence.name":"UPDATEDAT"},"assignedToName":{"type":"cds.String","length":128,"@cds.persistence.name":"ASSIGNEDTONAME"},"assignedToSurname":{"type":"cds.String","length":128,"@cds.persistence.name":"ASSIGNEDTOSURNAME"},"siteName":{"type":"cds.String","length":128,"@cds.persistence.name":"SITENAME"},"siteDescription":{"type":"cds.String","length":1024,"@cds.persistence.name":"SITEDESCRIPTION"},"siteId":{"type":"cds.String","length":36,"@cds.persistence.name":"SITEID"},"toAssigedUsersToThisAccount":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.searching.TenantMappings","on":[{"ref":["toAssigedUsersToThisAccount","siteId"]},"=",{"ref":["$self","siteId"]}],"@cds.persistence.name":"TOASSIGEDUSERSTOTHISACCOUNT"}},"@cds.persistence.name":"SRV_SEARCHING_TERRITORIES"},"srv.searching.Parts":{"kind":"entity","doc":"Aspect for entities with canonical universal IDs\n\nSee https://cap.cloud.sap/docs/cds/common#aspect-cuid","elements":{"ID":{"key":true,"type":"cds.String","length":36,"@cds.persistence.name":"ID"},"tenantDiscriminator":{"type":"cds.String","length":36,"@cds.persistence.name":"TENANTDISCRIMINATOR"},"toAllowedUsers":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.searching.TenantMappings","on":[{"ref":["toAllowedUsers","tenant_ID"]},"=",{"ref":["tenantDiscriminator"]},"and",{"xpr":[[[{"ref":["toAllowedUsers","mappingType"]},"=",{"val":"user"}],"or",[{"ref":["toAllowedUsers","mappingType"]},"=",{"val":"admin"}]]]}],"@cds.persistence.name":"TOALLOWEDUSERS"},"toAllowedAdmins":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.searching.TenantMappings","on":[{"ref":["toAllowedAdmins","tenant_ID"]},"=",{"ref":["tenantDiscriminator"]},"and",{"ref":["toAllowedAdmins","mappingType"]},"=",{"val":"admin"}],"@cds.persistence.name":"TOALLOWEDADMINS"},"toTenant":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.searching.Tenants","on":[{"ref":["toTenant","ID"]},"=",{"ref":["$self","tenantDiscriminator"]}],"@cds.persistence.name":"TOTENANT"},"name":{"type":"cds.String","length":64,"@cds.persistence.name":"NAME"},"isBoundaries":{"type":"cds.Boolean","default":{"val":false},"@cds.persistence.name":"ISBOUNDARIES"},"coordinates":{"type":"cds.String","length":1024,"@cds.persistence.name":"COORDINATES"},"toParent":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.searching.Territories","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"toParent_ID"}],"on":[{"ref":["toParent","ID"]},"=",{"ref":["toParent_ID"]}],"@cds.persistence.name":"TOPARENT"},"toParent_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"toParent","@cds.persistence.name":"TOPARENT_ID"}},"@cds.persistence.name":"SRV_SEARCHING_PARTS","projection":{"from":{"ref":["db.Parts"],"as":"dbPart_0"},"columns":[{"ref":["dbPart_0","ID"]},{"ref":["dbPart_0","tenantDiscriminator"]},{"ref":["___toAllowedUsers"],"as":"toAllowedUsers"},{"ref":["___toAllowedAdmins"],"as":"toAllowedAdmins"},{"ref":["___toTenant"],"as":"toTenant"},{"ref":["dbPart_0","name"]},{"ref":["dbPart_0","isBoundaries"]},{"ref":["dbPart_0","coordinates"]},{"ref":["___toParent"],"as":"toParent"},{"ref":["dbPart_0","toParent_ID"]}],"mixin":{"___toAllowedUsers":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.searching.TenantMappings","on":[{"ref":["___toAllowedUsers","tenant_ID"]},"=",{"ref":["$projection","tenantDiscriminator"]},"and",{"xpr":[{"ref":["___toAllowedUsers","mappingType"]},"=",{"val":"user"},"or",{"ref":["___toAllowedUsers","mappingType"]},"=",{"val":"admin"}]}]},"___toAllowedAdmins":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.searching.TenantMappings","on":[{"ref":["___toAllowedAdmins","tenant_ID"]},"=",{"ref":["$projection","tenantDiscriminator"]},"and",{"ref":["___toAllowedAdmins","mappingType"]},"=",{"val":"admin"}]},"___toTenant":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.searching.Tenants","on":[{"ref":["___toTenant","ID"]},"=",{"ref":["$self","tenantDiscriminator"]}]},"___toParent":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.searching.Territories","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"toParent_ID"}],"on":[{"ref":["___toParent","ID"]},"=",{"ref":["$projection","toParent_ID"]}]}}}},"srv.searching.TerritoryAssignments":{"kind":"entity","doc":"Aspect for entities with canonical universal IDs\n\nSee https://cap.cloud.sap/docs/cds/common#aspect-cuid","@cds.redirection.target":true,"query":{"SELECT":{"from":{"join":"left","args":[{"ref":["db.TerritoryAssignments"],"as":"dbTerritoryAssignment_0"},{"ref":["db.Territories"],"as":"toTerritory_1"}],"on":[{"ref":["dbTerritoryAssignment_0","toTerritory_ID"]},"=",{"ref":["toTerritory_1","ID"]}]},"columns":[{"ref":["dbTerritoryAssignment_0","ID"]},{"ref":["dbTerritoryAssignment_0","tenantDiscriminator"]},{"ref":["___toAllowedUsers"],"as":"toAllowedUsers"},{"ref":["___toAllowedAdmins"],"as":"toAllowedAdmins"},{"ref":["___toTenant"],"as":"toTenant"},{"ref":["___toTerritory"],"as":"toTerritory"},{"ref":["dbTerritoryAssignment_0","toTerritory_ID"]},{"ref":["dbTerritoryAssignment_0","isDone"]},{"ref":["___toPartAssignments"],"as":"toPartAssignments"},{"ref":["dbTerritoryAssignment_0","startedDate"]},{"ref":["dbTerritoryAssignment_0","finishedDate"]},{"ref":["dbTerritoryAssignment_0","type"]},{"ref":["___assignedTo"],"as":"assignedTo"},{"ref":["dbTerritoryAssignment_0","assignedTo_ID"]},{"ref":["toTerritory_1","name"],"as":"name"},{"ref":["toTerritory_1","link"],"as":"link"}],"mixin":{"___toAllowedUsers":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.searching.TenantMappings","on":[{"ref":["___toAllowedUsers","tenant_ID"]},"=",{"ref":["$projection","tenantDiscriminator"]},"and",{"xpr":[{"ref":["___toAllowedUsers","mappingType"]},"=",{"val":"user"},"or",{"ref":["___toAllowedUsers","mappingType"]},"=",{"val":"admin"}]}]},"___toAllowedAdmins":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.searching.TenantMappings","on":[{"ref":["___toAllowedAdmins","tenant_ID"]},"=",{"ref":["$projection","tenantDiscriminator"]},"and",{"ref":["___toAllowedAdmins","mappingType"]},"=",{"val":"admin"}]},"___toTenant":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.searching.Tenants","on":[{"ref":["___toTenant","ID"]},"=",{"ref":["$self","tenantDiscriminator"]}]},"___toTerritory":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.searching.Territories","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"toTerritory_ID"}],"on":[{"ref":["___toTerritory","ID"]},"=",{"ref":["$projection","toTerritory_ID"]}]},"___toPartAssignments":{"type":"cds.Composition","cardinality":{"max":"*"},"target":"srv.searching.PartAssignments","on":[{"ref":["___toPartAssignments","toParent_ID"]},"=",{"ref":["$projection","ID"]}]},"___assignedTo":{"type":"cds.Association","cardinality":{"max":1},"target":"db.Users","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"assignedTo_ID"}],"on":[{"ref":["___assignedTo","ID"]},"=",{"ref":["$projection","assignedTo_ID"]}]}}}},"elements":{"ID":{"key":true,"type":"cds.String","length":36,"@cds.persistence.name":"ID"},"tenantDiscriminator":{"type":"cds.String","length":36,"@cds.persistence.name":"TENANTDISCRIMINATOR"},"toAllowedUsers":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.searching.TenantMappings","on":[{"ref":["toAllowedUsers","tenant_ID"]},"=",{"ref":["tenantDiscriminator"]},"and",{"xpr":[[[{"ref":["toAllowedUsers","mappingType"]},"=",{"val":"user"}],"or",[{"ref":["toAllowedUsers","mappingType"]},"=",{"val":"admin"}]]]}],"@cds.persistence.name":"TOALLOWEDUSERS"},"toAllowedAdmins":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.searching.TenantMappings","on":[{"ref":["toAllowedAdmins","tenant_ID"]},"=",{"ref":["tenantDiscriminator"]},"and",{"ref":["toAllowedAdmins","mappingType"]},"=",{"val":"admin"}],"@cds.persistence.name":"TOALLOWEDADMINS"},"toTenant":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.searching.Tenants","on":[{"ref":["toTenant","ID"]},"=",{"ref":["$self","tenantDiscriminator"]}],"@cds.persistence.name":"TOTENANT"},"toTerritory":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.searching.Territories","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"toTerritory_ID"}],"on":[{"ref":["toTerritory","ID"]},"=",{"ref":["toTerritory_ID"]}],"@cds.persistence.name":"TOTERRITORY"},"toTerritory_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"toTerritory","@cds.persistence.name":"TOTERRITORY_ID"},"isDone":{"type":"cds.Boolean","@cds.persistence.name":"ISDONE"},"toPartAssignments":{"type":"cds.Composition","cardinality":{"max":"*"},"target":"srv.searching.PartAssignments","on":[{"ref":["toPartAssignments","toParent_ID"]},"=",{"ref":["ID"]}],"@cds.persistence.name":"TOPARTASSIGNMENTS"},"startedDate":{"type":"cds.Timestamp","@cds.persistence.name":"STARTEDDATE"},"finishedDate":{"type":"cds.Timestamp","@cds.persistence.name":"FINISHEDDATE"},"type":{"type":"cds.String","length":32,"@cds.persistence.name":"TYPE"},"assignedTo":{"type":"cds.Association","cardinality":{"max":1},"target":"db.Users","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"assignedTo_ID"}],"on":[{"ref":["assignedTo","ID"]},"=",{"ref":["assignedTo_ID"]}],"@cds.persistence.name":"ASSIGNEDTO"},"assignedTo_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"assignedTo","@cds.persistence.name":"ASSIGNEDTO_ID"},"name":{"type":"cds.String","length":64,"@cds.persistence.name":"NAME"},"link":{"type":"cds.String","length":2048,"@cds.persistence.name":"LINK"}},"@cds.persistence.name":"SRV_SEARCHING_TERRITORYASSIGNMENTS"},"srv.searching.PublicTerritoryAssignments":{"kind":"entity","doc":"Aspect for entities with canonical universal IDs\n\nSee https://cap.cloud.sap/docs/cds/common#aspect-cuid","@cds.redirection.target":false,"query":{"SELECT":{"from":{"join":"left","args":[{"ref":["db.TerritoryAssignments"],"as":"dbTerritoryAssignment_0"},{"ref":["db.Territories"],"as":"toTerritory_1"}],"on":[{"ref":["dbTerritoryAssignment_0","toTerritory_ID"]},"=",{"ref":["toTerritory_1","ID"]}]},"columns":[{"ref":["dbTerritoryAssignment_0","ID"]},{"ref":["dbTerritoryAssignment_0","tenantDiscriminator"]},{"ref":["___toAllowedUsers"],"as":"toAllowedUsers"},{"ref":["___toAllowedAdmins"],"as":"toAllowedAdmins"},{"ref":["___toTenant"],"as":"toTenant"},{"ref":["___toTerritory"],"as":"toTerritory"},{"ref":["dbTerritoryAssignment_0","toTerritory_ID"]},{"ref":["dbTerritoryAssignment_0","isDone"]},{"ref":["___toPartAssignments"],"as":"toPartAssignments"},{"ref":["dbTerritoryAssignment_0","startedDate"]},{"ref":["dbTerritoryAssignment_0","finishedDate"]},{"ref":["dbTerritoryAssignment_0","type"]},{"ref":["___assignedTo"],"as":"assignedTo"},{"ref":["dbTerritoryAssignment_0","assignedTo_ID"]},{"ref":["toTerritory_1","name"],"as":"name"},{"ref":["toTerritory_1","link"],"as":"link"},{"virtual":true,"val":null,"as":"site","cast":{"type":"cds.String","length":255}}],"where":[{"ref":["dbTerritoryAssignment_0","type"]},"=",{"val":"Public"},"and",{"ref":["toTerritory_1","isReady"]},"=",{"val":true}],"mixin":{"___toAllowedUsers":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.searching.TenantMappings","on":[{"ref":["___toAllowedUsers","tenant_ID"]},"=",{"ref":["$projection","tenantDiscriminator"]},"and",{"xpr":[{"ref":["___toAllowedUsers","mappingType"]},"=",{"val":"user"},"or",{"ref":["___toAllowedUsers","mappingType"]},"=",{"val":"admin"}]}]},"___toAllowedAdmins":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.searching.TenantMappings","on":[{"ref":["___toAllowedAdmins","tenant_ID"]},"=",{"ref":["$projection","tenantDiscriminator"]},"and",{"ref":["___toAllowedAdmins","mappingType"]},"=",{"val":"admin"}]},"___toTenant":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.searching.Tenants","on":[{"ref":["___toTenant","ID"]},"=",{"ref":["$self","tenantDiscriminator"]}]},"___toTerritory":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.searching.Territories","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"toTerritory_ID"}],"on":[{"ref":["___toTerritory","ID"]},"=",{"ref":["$projection","toTerritory_ID"]}]},"___toPartAssignments":{"type":"cds.Composition","cardinality":{"max":"*"},"target":"srv.searching.PartAssignments","on":[{"ref":["___toPartAssignments","toParent_ID"]},"=",{"ref":["$projection","ID"]}]},"___assignedTo":{"type":"cds.Association","cardinality":{"max":1},"target":"db.Users","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"assignedTo_ID"}],"on":[{"ref":["___assignedTo","ID"]},"=",{"ref":["$projection","assignedTo_ID"]}]}}}},"elements":{"ID":{"key":true,"type":"cds.String","length":36,"@cds.persistence.name":"ID"},"tenantDiscriminator":{"type":"cds.String","length":36,"@cds.persistence.name":"TENANTDISCRIMINATOR"},"toAllowedUsers":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.searching.TenantMappings","on":[{"ref":["toAllowedUsers","tenant_ID"]},"=",{"ref":["tenantDiscriminator"]},"and",{"xpr":[[[{"ref":["toAllowedUsers","mappingType"]},"=",{"val":"user"}],"or",[{"ref":["toAllowedUsers","mappingType"]},"=",{"val":"admin"}]]]}],"@cds.persistence.name":"TOALLOWEDUSERS"},"toAllowedAdmins":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.searching.TenantMappings","on":[{"ref":["toAllowedAdmins","tenant_ID"]},"=",{"ref":["tenantDiscriminator"]},"and",{"ref":["toAllowedAdmins","mappingType"]},"=",{"val":"admin"}],"@cds.persistence.name":"TOALLOWEDADMINS"},"toTenant":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.searching.Tenants","on":[{"ref":["toTenant","ID"]},"=",{"ref":["$self","tenantDiscriminator"]}],"@cds.persistence.name":"TOTENANT"},"toTerritory":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.searching.Territories","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"toTerritory_ID"}],"on":[{"ref":["toTerritory","ID"]},"=",{"ref":["toTerritory_ID"]}],"@cds.persistence.name":"TOTERRITORY"},"toTerritory_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"toTerritory","@cds.persistence.name":"TOTERRITORY_ID"},"isDone":{"type":"cds.Boolean","@cds.persistence.name":"ISDONE"},"toPartAssignments":{"type":"cds.Composition","cardinality":{"max":"*"},"target":"srv.searching.PartAssignments","on":[{"ref":["toPartAssignments","toParent_ID"]},"=",{"ref":["ID"]}],"@cds.persistence.name":"TOPARTASSIGNMENTS"},"startedDate":{"type":"cds.Timestamp","@cds.persistence.name":"STARTEDDATE"},"finishedDate":{"type":"cds.Timestamp","@cds.persistence.name":"FINISHEDDATE"},"type":{"type":"cds.String","length":32,"@cds.persistence.name":"TYPE"},"assignedTo":{"type":"cds.Association","cardinality":{"max":1},"target":"db.Users","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"assignedTo_ID"}],"on":[{"ref":["assignedTo","ID"]},"=",{"ref":["assignedTo_ID"]}],"@cds.persistence.name":"ASSIGNEDTO"},"assignedTo_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"assignedTo","@cds.persistence.name":"ASSIGNEDTO_ID"},"name":{"type":"cds.String","length":64,"@cds.persistence.name":"NAME"},"link":{"type":"cds.String","length":2048,"@cds.persistence.name":"LINK"},"site":{"@Core.Computed":true,"virtual":true,"type":"cds.String","length":255,"@cds.persistence.name":"SITE"}},"@cds.persistence.name":"SRV_SEARCHING_PUBLICTERRITORYASSIGNMENTS"},"srv.searching.PartAssignments":{"kind":"entity","doc":"Aspect for entities with canonical universal IDs\n\nSee https://cap.cloud.sap/docs/cds/common#aspect-cuid","query":{"SELECT":{"from":{"join":"left","args":[{"ref":["db.PartAssignments"],"as":"dbPartAssignmenst_0"},{"ref":["db.Parts"],"as":"part_1"}],"on":[{"ref":["dbPartAssignmenst_0","part_ID"]},"=",{"ref":["part_1","ID"]}]},"columns":[{"ref":["dbPartAssignmenst_0","ID"]},{"ref":["dbPartAssignmenst_0","tenantDiscriminator"]},{"ref":["___toAllowedUsers"],"as":"toAllowedUsers"},{"ref":["___toAllowedAdmins"],"as":"toAllowedAdmins"},{"ref":["___toTenant"],"as":"toTenant"},{"ref":["___part"],"as":"part"},{"ref":["dbPartAssignmenst_0","part_ID"]},{"ref":["___inWorkBy"],"as":"inWorkBy"},{"ref":["dbPartAssignmenst_0","isDone"]},{"ref":["___toParent"],"as":"toParent"},{"ref":["dbPartAssignmenst_0","toParent_ID"]},{"ref":["part_1","name"],"as":"name"},{"ref":["part_1","coordinates"],"as":"coordinates"},{"ref":["part_1","isBoundaries"],"as":"isBoundaries"}],"mixin":{"___toAllowedUsers":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.searching.TenantMappings","on":[{"ref":["___toAllowedUsers","tenant_ID"]},"=",{"ref":["$projection","tenantDiscriminator"]},"and",{"xpr":[{"ref":["___toAllowedUsers","mappingType"]},"=",{"val":"user"},"or",{"ref":["___toAllowedUsers","mappingType"]},"=",{"val":"admin"}]}]},"___toAllowedAdmins":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.searching.TenantMappings","on":[{"ref":["___toAllowedAdmins","tenant_ID"]},"=",{"ref":["$projection","tenantDiscriminator"]},"and",{"ref":["___toAllowedAdmins","mappingType"]},"=",{"val":"admin"}]},"___toTenant":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.searching.Tenants","on":[{"ref":["___toTenant","ID"]},"=",{"ref":["$self","tenantDiscriminator"]}]},"___part":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.searching.Parts","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"part_ID"}],"on":[{"ref":["___part","ID"]},"=",{"ref":["$projection","part_ID"]}]},"___inWorkBy":{"type":"cds.Composition","cardinality":{"max":"*"},"target":"srv.searching.InWorkBy","on":[{"ref":["___inWorkBy","toParent_ID"]},"=",{"ref":["$projection","ID"]}]},"___toParent":{"type":"cds.Association","target":"srv.searching.TerritoryAssignments","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"toParent_ID"}],"on":[{"ref":["___toParent","ID"]},"=",{"ref":["$projection","toParent_ID"]}]}}}},"elements":{"ID":{"key":true,"type":"cds.String","length":36,"@cds.persistence.name":"ID"},"tenantDiscriminator":{"type":"cds.String","length":36,"@cds.persistence.name":"TENANTDISCRIMINATOR"},"toAllowedUsers":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.searching.TenantMappings","on":[{"ref":["toAllowedUsers","tenant_ID"]},"=",{"ref":["tenantDiscriminator"]},"and",{"xpr":[[[{"ref":["toAllowedUsers","mappingType"]},"=",{"val":"user"}],"or",[{"ref":["toAllowedUsers","mappingType"]},"=",{"val":"admin"}]]]}],"@cds.persistence.name":"TOALLOWEDUSERS"},"toAllowedAdmins":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.searching.TenantMappings","on":[{"ref":["toAllowedAdmins","tenant_ID"]},"=",{"ref":["tenantDiscriminator"]},"and",{"ref":["toAllowedAdmins","mappingType"]},"=",{"val":"admin"}],"@cds.persistence.name":"TOALLOWEDADMINS"},"toTenant":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.searching.Tenants","on":[{"ref":["toTenant","ID"]},"=",{"ref":["$self","tenantDiscriminator"]}],"@cds.persistence.name":"TOTENANT"},"part":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.searching.Parts","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"part_ID"}],"on":[{"ref":["part","ID"]},"=",{"ref":["part_ID"]}],"@cds.persistence.name":"PART"},"part_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"part","@cds.persistence.name":"PART_ID"},"inWorkBy":{"type":"cds.Composition","cardinality":{"max":"*"},"target":"srv.searching.InWorkBy","on":[{"ref":["inWorkBy","toParent_ID"]},"=",{"ref":["ID"]}],"@cds.persistence.name":"INWORKBY"},"isDone":{"type":"cds.Boolean","@cds.persistence.name":"ISDONE"},"toParent":{"type":"cds.Association","target":"srv.searching.TerritoryAssignments","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"toParent_ID"}],"on":[{"ref":["toParent","ID"]},"=",{"ref":["toParent_ID"]}],"@cds.persistence.name":"TOPARENT"},"toParent_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"toParent","@cds.persistence.name":"TOPARENT_ID"},"name":{"type":"cds.String","length":64,"@cds.persistence.name":"NAME"},"coordinates":{"type":"cds.String","length":1024,"@cds.persistence.name":"COORDINATES"},"isBoundaries":{"type":"cds.Boolean","default":{"val":false},"@cds.persistence.name":"ISBOUNDARIES"}},"@cds.persistence.name":"SRV_SEARCHING_PARTASSIGNMENTS"},"srv.searching.TenantMappings":{"kind":"entity","query":{"SELECT":{"from":{"join":"left","args":[{"join":"left","args":[{"ref":["db.UserTenantMappings"],"as":"dbUserTenantMapping_0"},{"ref":["db.Users"],"as":"user_1"}],"on":[{"ref":["dbUserTenantMapping_0","user_ID"]},"=",{"ref":["user_1","ID"]}]},{"ref":["db.Tenants"],"as":"tenant_2"}],"on":[{"ref":["dbUserTenantMapping_0","tenant_ID"]},"=",{"ref":["tenant_2","ID"]}]},"columns":[{"ref":["___user"],"as":"user"},{"ref":["dbUserTenantMapping_0","user_ID"]},{"ref":["___tenant"],"as":"tenant"},{"ref":["dbUserTenantMapping_0","tenant_ID"]},{"ref":["dbUserTenantMapping_0","mappingType"]},{"ref":["user_1","name"],"as":"name"},{"ref":["user_1","surname"],"as":"surname"},{"ref":["user_1","email"],"as":"email"},{"ref":["tenant_2","name"],"as":"siteName"},{"ref":["tenant_2","ID"],"as":"siteId"},{"ref":["tenant_2","description"],"as":"siteDescription"}],"mixin":{"___user":{"type":"cds.Association","cardinality":{"max":1},"target":"db.Users","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"user_ID"}],"on":[{"ref":["___user","ID"]},"=",{"ref":["$projection","user_ID"]}]},"___tenant":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.searching.Tenants","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"tenant_ID"}],"on":[{"ref":["___tenant","ID"]},"=",{"ref":["$projection","tenant_ID"]}]}}}},"elements":{"user":{"type":"cds.Association","cardinality":{"max":1},"target":"db.Users","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"user_ID"}],"on":[{"ref":["user","ID"]},"=",{"ref":["user_ID"]}],"@cds.persistence.name":"USER"},"user_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"user","key":true,"@cds.persistence.name":"USER_ID"},"tenant":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.searching.Tenants","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"tenant_ID"}],"on":[{"ref":["tenant","ID"]},"=",{"ref":["tenant_ID"]}],"@cds.persistence.name":"TENANT"},"tenant_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"tenant","key":true,"@cds.persistence.name":"TENANT_ID"},"mappingType":{"type":"cds.String","length":32,"@cds.persistence.name":"MAPPINGTYPE"},"name":{"type":"cds.String","length":128,"@cds.persistence.name":"NAME"},"surname":{"type":"cds.String","length":128,"@cds.persistence.name":"SURNAME"},"email":{"type":"cds.String","length":64,"@cds.persistence.name":"EMAIL"},"siteName":{"type":"cds.String","length":128,"@cds.persistence.name":"SITENAME"},"siteId":{"type":"cds.String","length":36,"@cds.persistence.name":"SITEID"},"siteDescription":{"type":"cds.String","length":1024,"@cds.persistence.name":"SITEDESCRIPTION"}},"@cds.persistence.name":"SRV_SEARCHING_TENANTMAPPINGS"},"srv.searching.Tenants":{"kind":"entity","doc":"Aspect for entities with canonical universal IDs\n\nSee https://cap.cloud.sap/docs/cds/common#aspect-cuid","elements":{"ID":{"key":true,"type":"cds.String","length":36,"@cds.persistence.name":"ID"},"createdAt":{"type":"cds.Timestamp","@cds.persistence.name":"CREATEDAT"},"createdBy":{"type":"cds.Association","cardinality":{"max":1},"target":"db.Users","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"createdBy_ID"}],"on":[{"ref":["createdBy","ID"]},"=",{"ref":["createdBy_ID"]}],"@cds.persistence.name":"CREATEDBY"},"createdBy_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"createdBy","@cds.persistence.name":"CREATEDBY_ID"},"name":{"type":"cds.String","length":128,"@cds.persistence.name":"NAME"},"description":{"type":"cds.String","length":1024,"@cds.persistence.name":"DESCRIPTION"},"toUsers":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.searching.TenantMappings","on":[{"ref":["toUsers","tenant_ID"]},"=",{"ref":["ID"]}],"@cds.persistence.name":"TOUSERS"},"myRole":{"@Core.Computed":true,"virtual":true,"type":"cds.String","length":32,"@cds.persistence.name":"MYROLE"},"defaultUserTenant":{"type":"cds.Boolean","default":{"val":true},"@cds.persistence.name":"DEFAULTUSERTENANT"}},"@cds.persistence.name":"SRV_SEARCHING_TENANTS","projection":{"from":{"ref":["db.Tenants"],"as":"dbTenant_0"},"columns":[{"ref":["dbTenant_0","ID"]},{"ref":["dbTenant_0","createdAt"]},{"ref":["___createdBy"],"as":"createdBy"},{"ref":["dbTenant_0","createdBy_ID"]},{"ref":["dbTenant_0","name"]},{"ref":["dbTenant_0","description"]},{"ref":["___toUsers"],"as":"toUsers"},{"ref":["myRole"]},{"ref":["dbTenant_0","defaultUserTenant"]}],"mixin":{"___createdBy":{"type":"cds.Association","cardinality":{"max":1},"target":"db.Users","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"createdBy_ID"}],"on":[{"ref":["___createdBy","ID"]},"=",{"ref":["$projection","createdBy_ID"]}]},"___toUsers":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.searching.TenantMappings","on":[{"ref":["___toUsers","tenant_ID"]},"=",{"ref":["$projection","ID"]}]}}}},"srv.searching.InWorkBy":{"kind":"entity","doc":"Aspect for entities with canonical universal IDs\n\nSee https://cap.cloud.sap/docs/cds/common#aspect-cuid","query":{"SELECT":{"from":{"join":"left","args":[{"ref":["db.InWorkBy"],"as":"dbInworkBy_0"},{"ref":["db.Users"],"as":"user_1"}],"on":[{"ref":["dbInworkBy_0","user_ID"]},"=",{"ref":["user_1","ID"]}]},"columns":[{"ref":["user_1","name"],"as":"username"},{"ref":["user_1","surname"],"as":"surname"},{"ref":["dbInworkBy_0","ID"],"as":"id"},{"ref":["___toParent"],"as":"toParent"},{"ref":["dbInworkBy_0","toParent_ID"],"as":"toParent_ID"}],"mixin":{"___toParent":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.searching.PartAssignments","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"toParent_ID"}],"on":[{"ref":["___toParent","ID"]},"=",{"ref":["$projection","toParent_ID"]}]}}}},"elements":{"username":{"type":"cds.String","length":128,"@cds.persistence.name":"USERNAME"},"surname":{"type":"cds.String","length":128,"@cds.persistence.name":"SURNAME"},"id":{"key":true,"type":"cds.String","length":36,"@cds.persistence.name":"ID"},"toParent":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.searching.PartAssignments","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"toParent_ID"}],"on":[{"ref":["toParent","ID"]},"=",{"ref":["toParent_ID"]}],"@cds.persistence.name":"TOPARENT"},"toParent_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"toParent","@cds.persistence.name":"TOPARENT_ID"}},"@cds.persistence.name":"SRV_SEARCHING_INWORKBY"},"srv.admin":{"kind":"service"},"srv.admin.Tenants":{"kind":"entity","doc":"Aspect for entities with canonical universal IDs\n\nSee https://cap.cloud.sap/docs/cds/common#aspect-cuid","query":{"SELECT":{"from":{"join":"left","args":[{"ref":["db.Tenants"],"as":"dbTenant_0"},{"ref":["db.Users"],"as":"createdBy_1"}],"on":[{"ref":["dbTenant_0","createdBy_ID"]},"=",{"ref":["createdBy_1","ID"]}]},"columns":[{"ref":["dbTenant_0","ID"]},{"ref":["dbTenant_0","createdAt"]},{"ref":["___createdBy"],"as":"createdBy"},{"ref":["dbTenant_0","createdBy_ID"]},{"ref":["dbTenant_0","name"]},{"ref":["dbTenant_0","description"]},{"ref":["___toUsers"],"as":"toUsers"},{"ref":["myRole"]},{"ref":["dbTenant_0","defaultUserTenant"]},{"ref":["createdBy_1","name"],"as":"createdByName"},{"ref":["createdBy_1","surname"],"as":"createdBySurname"}],"mixin":{"___createdBy":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.admin.LoggedInUser","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"createdBy_ID"}],"on":[{"ref":["___createdBy","ID"]},"=",{"ref":["$projection","createdBy_ID"]}]},"___toUsers":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.admin.UserTenantMappings","on":[{"ref":["___toUsers","tenant_ID"]},"=",{"ref":["$projection","ID"]}]}}}},"elements":{"ID":{"key":true,"type":"cds.String","length":36,"@cds.persistence.name":"ID"},"createdAt":{"type":"cds.Timestamp","@cds.persistence.name":"CREATEDAT"},"createdBy":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.admin.LoggedInUser","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"createdBy_ID"}],"on":[{"ref":["createdBy","ID"]},"=",{"ref":["createdBy_ID"]}],"@cds.persistence.name":"CREATEDBY"},"createdBy_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"createdBy","@cds.persistence.name":"CREATEDBY_ID"},"name":{"type":"cds.String","length":128,"@cds.persistence.name":"NAME"},"description":{"type":"cds.String","length":1024,"@cds.persistence.name":"DESCRIPTION"},"toUsers":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.admin.UserTenantMappings","on":[{"ref":["toUsers","tenant_ID"]},"=",{"ref":["ID"]}],"@cds.persistence.name":"TOUSERS"},"myRole":{"@Core.Computed":true,"virtual":true,"type":"cds.String","length":32,"@cds.persistence.name":"MYROLE"},"defaultUserTenant":{"type":"cds.Boolean","default":{"val":true},"@cds.persistence.name":"DEFAULTUSERTENANT"},"createdByName":{"type":"cds.String","length":128,"@cds.persistence.name":"CREATEDBYNAME"},"createdBySurname":{"type":"cds.String","length":128,"@cds.persistence.name":"CREATEDBYSURNAME"}},"@cds.persistence.name":"SRV_ADMIN_TENANTS"},"srv.admin.LoggedInUser":{"kind":"entity","doc":"Aspect for entities with canonical universal IDs\n\nSee https://cap.cloud.sap/docs/cds/common#aspect-cuid","elements":{"ID":{"key":true,"type":"cds.String","length":36,"@cds.persistence.name":"ID"},"email":{"type":"cds.String","length":64,"@cds.persistence.name":"EMAIL"},"name":{"type":"cds.String","length":128,"@cds.persistence.name":"NAME"},"surname":{"type":"cds.String","length":128,"@cds.persistence.name":"SURNAME"},"currentTenant":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.admin.Tenants","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"currentTenant_ID"}],"on":[{"ref":["currentTenant","ID"]},"=",{"ref":["currentTenant_ID"]}],"@cds.persistence.name":"CURRENTTENANT"},"currentTenant_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"currentTenant","@cds.persistence.name":"CURRENTTENANT_ID"},"toAllowedTenants":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.admin.UserTenantMappings","on":[{"ref":["toAllowedTenants","user_ID"]},"=",{"ref":["ID"]}],"@cds.persistence.name":"TOALLOWEDTENANTS"},"refreshToken":{"type":"cds.String","length":2048,"@cds.persistence.name":"REFRESHTOKEN"}},"@cds.persistence.name":"SRV_ADMIN_LOGGEDINUSER","projection":{"from":{"ref":["db.Users"],"as":"dbUser_0"},"columns":[{"ref":["dbUser_0","ID"]},{"ref":["dbUser_0","email"]},{"ref":["dbUser_0","name"]},{"ref":["dbUser_0","surname"]},{"ref":["___currentTenant"],"as":"currentTenant"},{"ref":["dbUser_0","currentTenant_ID"]},{"ref":["___toAllowedTenants"],"as":"toAllowedTenants"},{"ref":["dbUser_0","refreshToken"]}],"mixin":{"___currentTenant":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.admin.Tenants","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"currentTenant_ID"}],"on":[{"ref":["___currentTenant","ID"]},"=",{"ref":["$projection","currentTenant_ID"]}]},"___toAllowedTenants":{"type":"cds.Association","cardinality":{"max":"*"},"target":"srv.admin.UserTenantMappings","on":[{"ref":["___toAllowedTenants","user_ID"]},"=",{"ref":["$projection","ID"]}]}}}},"srv.admin.UserTenantMappings":{"kind":"entity","query":{"SELECT":{"from":{"join":"left","args":[{"ref":["db.UserTenantMappings"],"as":"dbUserTenantMapping_0"},{"ref":["db.Users"],"as":"user_1"}],"on":[{"ref":["dbUserTenantMapping_0","user_ID"]},"=",{"ref":["user_1","ID"]}]},"columns":[{"ref":["___user"],"as":"user"},{"ref":["dbUserTenantMapping_0","user_ID"]},{"ref":["___tenant"],"as":"tenant"},{"ref":["dbUserTenantMapping_0","tenant_ID"]},{"ref":["dbUserTenantMapping_0","mappingType"]},{"ref":["user_1","name"],"as":"username"},{"ref":["user_1","surname"],"as":"surname"},{"ref":["user_1","email"],"as":"email"}],"mixin":{"___user":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.admin.LoggedInUser","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"user_ID"}],"on":[{"ref":["___user","ID"]},"=",{"ref":["$projection","user_ID"]}]},"___tenant":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.admin.Tenants","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"tenant_ID"}],"on":[{"ref":["___tenant","ID"]},"=",{"ref":["$projection","tenant_ID"]}]}}}},"elements":{"user":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.admin.LoggedInUser","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"user_ID"}],"on":[{"ref":["user","ID"]},"=",{"ref":["user_ID"]}],"@cds.persistence.name":"USER"},"user_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"user","key":true,"@cds.persistence.name":"USER_ID"},"tenant":{"type":"cds.Association","cardinality":{"max":1},"target":"srv.admin.Tenants","keys":[{"ref":["ID"],"as":"ID","$generatedFieldName":"tenant_ID"}],"on":[{"ref":["tenant","ID"]},"=",{"ref":["tenant_ID"]}],"@cds.persistence.name":"TENANT"},"tenant_ID":{"type":"cds.String","length":36,"@odata.foreignKey4":"tenant","key":true,"@cds.persistence.name":"TENANT_ID"},"mappingType":{"type":"cds.String","length":32,"@cds.persistence.name":"MAPPINGTYPE"},"username":{"type":"cds.String","length":128,"@cds.persistence.name":"USERNAME"},"surname":{"type":"cds.String","length":128,"@cds.persistence.name":"SURNAME"},"email":{"type":"cds.String","length":64,"@cds.persistence.name":"EMAIL"}},"@cds.persistence.name":"SRV_ADMIN_USERTENANTMAPPINGS"},"srv.admin.createSite":{"kind":"action"},"srv.registration":{"kind":"service"},"srv.registration.RegistredUser":{"kind":"type","type":"cds.Integer"},"srv.registration.register":{"kind":"action"},"srv.registration.resetPassword":{"kind":"action"},"cuid":{"kind":"aspect","type":"cds.Integer"}},"meta":{"creator":"CDS Compiler v5.9.0","flavor":"inferred","minified":true},"$version":"2.0"}