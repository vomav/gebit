<core:FragmentDefinition
   xmlns="sap.m"
   xmlns:core="sap.ui.core"
   xmlns:u="sap.ui.unified"
   xmlns:form="sap.ui.layout.form">
   
   <Table items="{
      path:'toPartAssignments',
      sorter : {
         path : 'name' 
      }
   }"> 
      <columns>
         <Column>
				<Text text="{i18n>name}"/>
			</Column>
         <Column demandPopin="true" minScreenWidth="600px">
				<Text text="{i18n>count}"/>
			</Column>
         <Column demandPopin="true" minScreenWidth="600px">
				<Text text="{i18n>assignedTo}"/>
			</Column>
         <Column demandPopin="true">
				<Text text="{i18n>edit}"/>
			</Column>
         <Column demandPopin="true" minScreenWidth="600px">
				<Text text="{i18n>mapSnapshot}"/>
			</Column>
         <Column>
				<Text text="{i18n>isDone}"/>
			</Column>
      </columns>
      <items>
         <ColumnListItem
						type="Inactive"
						press="onPressListItem"
                  visible="{= !${isBoundaries}}">
						<cells>
					   <ObjectIdentifier
						   title="{name}"/>
                     <Text text="{count}"/>
                     <Tokenizer width="100%" editable="false" tokens="{
                              path: 'inWorkBy',
                              sorter: { path: 'surname' },
                              templateShareable: true
                           }">
                        <Token key="{id}" text="{= !${freestyleName} ? ${surname} +', '+ ${username} : ${freestyleName} }" />
                     </Tokenizer>
               	   <Button
                        icon="sap-icon://edit"
                        press="onActionButtonPress"
                        type="Transparent">
                     </Button>
                     <HBox>

                     <u:FileUploader
                        name="coveredMapImageFileUploader"
                        uploadUrl="uploadImage"
                        tooltip="Upload your file to the local server"
                        uploadComplete="handleUploadComplete"
                        change="onFileChange"
                        typeMissmatch="handleTypeMissmatch"
                        style="Emphasized"
                        fileType="jpg,png,jpeg"
                        icon="sap-icon://upload"
                        iconOnly="true"
                        buttonOnly="true"
                        class="sapUiTinyMarginEnd">
                           <u:parameters>
                              <u:FileUploaderParameter
                                 name="Accept-CH"
                                 value="Viewport-Width"/>
                              <u:FileUploaderParameter
                                 name="Accept-CH"
                                 value="Width"/>
                              <u:FileUploaderParameter
                                 name="Accept-CH-Lifetime"
                                 value="86400"/>
                           </u:parameters>
                        </u:FileUploader>
                     <Button icon="sap-icon://image-viewer" ariaDescribedBy="{i18n>viewWorkedImage}" press="onPressViewWorkedImage" visible="{= ${workedPartImageUrl} !== null}">
                           <customData>
                              <core:CustomData key="imageUrl" value="{workedPartImageUrl}"></core:CustomData>
                           </customData>
                        </Button>
                        </HBox>
                     <CheckBox selected="{isDone}"></CheckBox>
						</cells>
                        <dependents>
                           <core:Fragment
                              fragmentName="ui5.gebit.app.fragment.EditTerritoryPatchLoggedIn"
                              type="XML" />
                        </dependents>
			</ColumnListItem>
      </items>
   </Table>
</core:FragmentDefinition>